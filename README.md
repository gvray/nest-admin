# NestAdmin

âœ¨ **NestAdmin** æ˜¯ä¸€ä¸ªä¼ä¸šçº§åå°ç®¡ç†ç³»ç»Ÿï¼ŒåŸºäº [NestJS](https://nestjs.com/)ã€[Prisma](https://www.prisma.io/)ã€MySQL å’Œ RESTful API æ¶æ„è®¾è®¡ï¼Œé€‚ç”¨äºä¸­åå°æƒé™ç®¡ç†ã€ç”¨æˆ·ç³»ç»Ÿä¸é€šç”¨ä¸šåŠ¡å¼€å‘ã€‚

## ğŸ’« ç‰¹æ€§äº®ç‚¹

- ğŸ¯ **TypeScript** - ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥ï¼Œæä¾›å®Œæ•´çš„ç±»å‹å®šä¹‰
- ğŸ—ï¸ **æ¨¡å—åŒ–æ¶æ„** - åŸºäº NestJS æ¨¡å—åŒ–è®¾è®¡ï¼Œæ”¯æŒæŒ‰éœ€åŠ è½½
- ğŸ” **RBAC æƒé™** - åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼Œçµæ´»çš„æƒé™ç®¡ç†
- ğŸ“ **Swagger** - è‡ªåŠ¨ç”Ÿæˆ OpenAPI è§„èŒƒçš„æ¥å£æ–‡æ¡£
- ğŸ¨ **ä»£ç è§„èŒƒ** - éµå¾ª TypeScript æœ€ä½³å®è·µï¼Œç»Ÿä¸€çš„ä»£ç é£æ ¼
- ğŸ”„ **æ•°æ®è¿ç§»** - åŸºäº Prisma çš„æ•°æ®åº“ç‰ˆæœ¬æ§åˆ¶å’Œè¿ç§»
- ğŸ›¡ï¸ **å®‰å…¨é˜²æŠ¤** - JWT è®¤è¯ï¼Œè¯·æ±‚åŠ å¯†ï¼ŒCORS é…ç½®ç­‰
- ğŸ”‘ **çµæ´»ç™»å½•** - æ”¯æŒç”¨æˆ·åæˆ–é‚®ç®±ç™»å½•
- ğŸ¢ **ç»„ç»‡æ¶æ„** - å®Œæ•´çš„éƒ¨é—¨å’Œå²—ä½ç®¡ç†ä½“ç³»

## ğŸš€ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **[NestJS](https://nestjs.com/)** - æ¸è¿›å¼ Node.js æ¡†æ¶ï¼Œæ”¯æŒå®Œæ•´çš„ä¾èµ–æ³¨å…¥
- **[Prisma](https://www.prisma.io/)** - ä¸‹ä¸€ä»£ ORMï¼Œç±»å‹å®‰å…¨ä¸”é«˜æ€§èƒ½
- **[MySQL](https://www.mysql.com/)** - ä¼ä¸šçº§å…³ç³»å‹æ•°æ®åº“
- **[TypeScript](https://www.typescriptlang.org/)** - JavaScript çš„è¶…é›†ï¼Œæä¾›ç±»å‹ç³»ç»Ÿ
- **[JWT](https://jwt.io/)** - JSON Web Token è®¤è¯æœºåˆ¶
- **[Swagger](https://swagger.io/)** - API æ–‡æ¡£ç”Ÿæˆä¸æµ‹è¯•å·¥å…·

### å¼€å‘å·¥å…·
- **ESLint** - ä»£ç è´¨é‡æ£€æŸ¥
- **Prettier** - ä»£ç æ ¼å¼åŒ–
- **Jest** - å•å…ƒæµ‹è¯•æ¡†æ¶
- **Docker** - å®¹å™¨åŒ–éƒ¨ç½²æ”¯æŒ

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ” è®¤è¯ä¸æˆæƒ
- [x] å®Œæ•´çš„æ³¨å†Œç™»å½•æµç¨‹
- [x] JWT ä»¤ç‰Œè®¤è¯æœºåˆ¶
- [x] æ”¯æŒç”¨æˆ·åæˆ–é‚®ç®±ç™»å½•
- [x] æƒé™éªŒè¯å®ˆå«
- [x] è§’è‰²æƒé™ç®¡ç†
- [ ] åˆ·æ–°ä»¤ç‰Œæœºåˆ¶ï¼ˆAccess Token + Refresh Tokenï¼‰
- [ ] ç™»å½•æ—¥å¿—è®°å½•ä¸åˆ†æ
- [ ] å•ç‚¹ç™»å½•ï¼ˆSSOï¼‰é›†æˆ
- [ ] OAuth2 ç¬¬ä¸‰æ–¹ç™»å½•ï¼ˆGitHubã€Googleï¼‰
- [ ] åŒå› ç´ è®¤è¯ï¼ˆ2FAï¼‰
- [ ] ç™»å½•å¤±è´¥é™åˆ¶ä¸å°ç¦

### ğŸ‘¥ ç”¨æˆ·ç®¡ç†
- [x] ç”¨æˆ·åŸºç¡€ç®¡ç†ï¼ˆCRUDï¼‰
- [x] çµæ´»çš„è§’è‰²åˆ†é…
- [x] éƒ¨é—¨å²—ä½å…³è”
- [ ] æ‰¹é‡ç”¨æˆ·æ“ä½œ
- [ ] ç”¨æˆ·æ•°æ®å¯¼å…¥å¯¼å‡ºï¼ˆExcelã€CSVï¼‰
- [ ] ç”¨æˆ·çŠ¶æ€ç®¡ç†ï¼ˆåœ¨çº¿ã€ç¦»çº¿ã€ç¦ç”¨ï¼‰
- [ ] å¤´åƒä¸Šä¼ ç®¡ç†ï¼ˆæœ¬åœ°/äº‘å­˜å‚¨ï¼‰
- [ ] ç”¨æˆ·æ“ä½œæ—¥å¿—
- [ ] ç”¨æˆ·ç™»å½•è®¾å¤‡ç®¡ç†

### ğŸ‘‘ è§’è‰²æƒé™
- [x] è§’è‰²åŸºç¡€ç®¡ç†ï¼ˆCRUDï¼‰
- [x] è§’è‰²æƒé™ç®¡ç†
- [x] RBAC æƒé™æ§åˆ¶
- [x] æƒé™ä»£ç ç®¡ç†
- [x] æƒé™åˆ†é…æœºåˆ¶
- [x] 25ä¸ªåŸºç¡€æƒé™é¢„è®¾
- [ ] æ‰¹é‡è§’è‰²æ“ä½œ
- [ ] æ•°æ®æƒé™æ§åˆ¶ï¼ˆè¡Œçº§ã€åˆ—çº§ï¼‰
- [ ] èœå•æƒé™ç®¡ç†
- [ ] æƒé™ç¼“å­˜ä¼˜åŒ–ï¼ˆRedisï¼‰
- [ ] æƒé™æ ‘å½¢ç»“æ„
- [ ] åŠ¨æ€æƒé™åŠ è½½
- [ ] ä¸´æ—¶æƒé™åˆ†é…
- [ ] æƒé™ç»§æ‰¿æœºåˆ¶

### ğŸ¢ ç»„ç»‡æ¶æ„
- [x] éƒ¨é—¨ç®¡ç†ï¼ˆCRUDï¼‰
- [x] å²—ä½ç®¡ç†ï¼ˆCRUDï¼‰
- [x] éƒ¨é—¨å²—ä½å…³è”
- [x] ç»„ç»‡æ¶æ„æ ‘å½¢å±•ç¤º
- [ ] å¤šçº§éƒ¨é—¨æ”¯æŒ
- [ ] éƒ¨é—¨æƒé™ç»§æ‰¿
- [ ] å²—ä½æƒé™æ¨¡æ¿

### âš™ï¸ ç³»ç»Ÿç®¡ç†
- [x] ç³»ç»Ÿå‚æ•°é…ç½®ï¼ˆç¯å¢ƒå˜é‡ï¼‰
- [x] æ•°æ®å­—å…¸ç»´æŠ¤ï¼ˆæƒé™ã€è§’è‰²ã€éƒ¨é—¨ã€å²—ä½ï¼‰
- [ ] èœå•åŠ¨æ€ç®¡ç†
- [ ] ç³»ç»Ÿé€šçŸ¥å…¬å‘Š
- [ ] ç»¼åˆæ—¥å¿—ç®¡ç†
  - [ ] æ“ä½œè¡Œä¸ºæ—¥å¿—ï¼ˆå®¡è®¡æ—¥å¿—ï¼‰
  - [ ] ç™»å½•è®°å½•æ—¥å¿—
  - [ ] ç³»ç»Ÿè¿è¡Œæ—¥å¿—
- [ ] ç³»ç»Ÿå¤‡ä»½è¿˜åŸ
- [ ] æ•æ„Ÿæ•°æ®åŠ å¯†

### ğŸ“š æ¥å£æ–‡æ¡£
- [x] Swagger æ¥å£æ–‡æ¡£ï¼ˆOpenAPI 3.0ï¼‰
- [x] è¯¦ç»†çš„APIæè¿°å’Œç¤ºä¾‹
- [x] Bearer Token è®¤è¯æ”¯æŒ
- [ ] æ¥å£ç‰ˆæœ¬ç®¡ç†
- [ ] æ¥å£è®¿é—®æ§åˆ¶ï¼ˆé™æµã€é»‘ç™½åå•ï¼‰
- [ ] æ¥å£æ€§èƒ½ç›‘æ§
- [ ] æ¥å£è°ƒè¯•å·¥å…·
- [ ] Mock æ•°æ®æ”¯æŒ

### ğŸ” ç³»ç»Ÿç›‘æ§
- [ ] åœ¨çº¿ç”¨æˆ·ç›‘æ§ï¼ˆå®æ—¶ç»Ÿè®¡ï¼‰
- [ ] æœåŠ¡å™¨çŠ¶æ€ç›‘æ§ï¼ˆCPUã€å†…å­˜ã€ç£ç›˜ï¼‰
- [ ] æ•°æ®åº“æ€§èƒ½ç›‘æ§
- [ ] ç¼“å­˜ç³»ç»Ÿç›‘æ§
- [ ] å®šæ—¶ä»»åŠ¡ç®¡ç†ï¼ˆä»»åŠ¡è°ƒåº¦ï¼‰
- [ ] æœåŠ¡å¥åº·æ£€æŸ¥
- [ ] æ€§èƒ½åˆ†æå·¥å…·
- [ ] å‘Šè­¦é€šçŸ¥æœºåˆ¶

### ğŸ› ï¸ å¼€å‘æ”¯æŒ
- [x] æ•°æ®åº“è¿ç§»å·¥å…·ï¼ˆPrisma Migrateï¼‰
- [x] æ•°æ®å¡«å……è„šæœ¬ï¼ˆSeedï¼‰
- [x] å®Œæ•´çš„ç§å­æ•°æ®ï¼ˆç®¡ç†å‘˜ã€è§’è‰²ã€æƒé™ã€éƒ¨é—¨ã€å²—ä½ï¼‰
- [ ] ä»£ç è‡ªåŠ¨ç”Ÿæˆï¼ˆCRUDï¼‰
- [ ] è¡¨å•åœ¨çº¿æ„å»º
- [ ] å¼€å‘æŠ€æœ¯æ–‡æ¡£
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–
- [ ] API è‡ªåŠ¨åŒ–æµ‹è¯•
- [ ] æŒç»­é›†æˆ/æŒç»­éƒ¨ç½²ï¼ˆCI/CDï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 16
- MySQL >= 8.0
- pnpm >= 8.0

### å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/gvray/nest-admin.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd nest-admin

# å®‰è£…ä¾èµ–
pnpm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env

# æ‰§è¡Œæ•°æ®åº“è¿ç§»
pnpm prisma migrate dev

# åˆå§‹åŒ–åŸºç¡€æ•°æ®
pnpm prisma db seed

# å¯åŠ¨å¼€å‘æœåŠ¡
pnpm start:dev
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
```bash
# æ„å»ºé¡¹ç›®
pnpm build

# å¯åŠ¨æœåŠ¡
pnpm start:prod
```

## ğŸ‘¤ é»˜è®¤è´¦æˆ·

- ç®¡ç†å‘˜è´¦å·ï¼šadmin@example.com æˆ– admin
- åˆå§‹å¯†ç ï¼šadmin123

## ğŸ”§ API æµ‹è¯•

### ç™»å½•æµ‹è¯•
```bash
# ç”¨æˆ·åç™»å½•
curl -X POST http://localhost:8001/auth/login \
  -H "Content-Type: application/json" \
  -d '{"account": "admin", "password": "admin123"}'

# é‚®ç®±ç™»å½•
curl -X POST http://localhost:8001/auth/login \
  -H "Content-Type: application/json" \
  -d '{"account": "admin@example.com", "password": "admin123"}'
```

### è·å–ç”¨æˆ·åˆ—è¡¨
```bash
# ä½¿ç”¨ç™»å½•è¿”å›çš„ token
curl -X GET http://localhost:8001/users \
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
src
â”œâ”€â”€ config                # é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ app.config.ts     # åº”ç”¨é…ç½®
â”‚   â”œâ”€â”€ auth.config.ts    # è®¤è¯é…ç½®
â”‚   â””â”€â”€ database.config.ts# æ•°æ®åº“é…ç½®
â”œâ”€â”€ core                  # æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ decorators       # è‡ªå®šä¹‰è£…é¥°å™¨
â”‚   â”‚   â”œâ”€â”€ permissions.decorator.ts  # æƒé™è£…é¥°å™¨
â”‚   â”‚   â””â”€â”€ roles.decorator.ts        # è§’è‰²è£…é¥°å™¨
â”‚   â”œâ”€â”€ guards          # æƒé™å®ˆå«
â”‚   â”‚   â”œâ”€â”€ jwt-auth.guard.ts         # JWTè®¤è¯å®ˆå«
â”‚   â”‚   â”œâ”€â”€ permissions.guard.ts      # æƒé™å®ˆå«
â”‚   â”‚   â””â”€â”€ roles.guard.ts            # è§’è‰²å®ˆå«
â”‚   â”œâ”€â”€ interceptors    # æ‹¦æˆªå™¨
â”‚   â”œâ”€â”€ filters         # å¼‚å¸¸è¿‡æ»¤å™¨
â”‚   â””â”€â”€ strategies      # è®¤è¯ç­–ç•¥
â”‚       â””â”€â”€ jwt.strategy.ts           # JWTç­–ç•¥
â”œâ”€â”€ modules              # ä¸šåŠ¡åŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ auth            # è®¤è¯æˆæƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ auth.controller.ts        # è®¤è¯æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ auth.service.ts           # è®¤è¯æœåŠ¡
â”‚   â”‚   â””â”€â”€ dto                        # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚       â”œâ”€â”€ login.dto.ts          # ç™»å½•DTO
â”‚   â”‚       â””â”€â”€ register.dto.ts       # æ³¨å†ŒDTO
â”‚   â”œâ”€â”€ users           # ç”¨æˆ·ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ users.controller.ts       # ç”¨æˆ·æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ users.service.ts          # ç”¨æˆ·æœåŠ¡
â”‚   â”‚   â””â”€â”€ dto                        # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”œâ”€â”€ roles           # è§’è‰²ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ roles.controller.ts       # è§’è‰²æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ roles.service.ts          # è§’è‰²æœåŠ¡
â”‚   â”‚   â””â”€â”€ dto                        # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”œâ”€â”€ permissions     # æƒé™ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ permissions.controller.ts # æƒé™æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ permissions.service.ts    # æƒé™æœåŠ¡
â”‚   â”‚   â””â”€â”€ dto                        # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”œâ”€â”€ departments     # éƒ¨é—¨ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ departments.controller.ts # éƒ¨é—¨æ§åˆ¶å™¨
â”‚   â”‚   â””â”€â”€ departments.service.ts    # éƒ¨é—¨æœåŠ¡
â”‚   â”œâ”€â”€ positions       # å²—ä½ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ positions.controller.ts   # å²—ä½æ§åˆ¶å™¨
â”‚   â”‚   â””â”€â”€ positions.service.ts      # å²—ä½æœåŠ¡
â”‚   â””â”€â”€ auth            # è®¤è¯æˆæƒæ¨¡å—
â”‚       â””â”€â”€ dto            # æ•°æ®ä¼ è¾“å¯¹è±¡
â”œâ”€â”€ shared              # å…±äº«æ¨¡å—
â”‚   â”œâ”€â”€ constants       # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ dto            # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â””â”€â”€ utils          # å·¥å…·å‡½æ•°
â””â”€â”€ prisma              # Prisma é…ç½®
    â”œâ”€â”€ migrations      # æ•°æ®åº“è¿ç§»
    â”œâ”€â”€ seeds          # æ•°æ®å¡«å……
    â”‚   â””â”€â”€ permissions.ts            # æƒé™ç§å­æ•°æ®
    â””â”€â”€ seed.ts                       # ä¸»ç§å­è„šæœ¬
```

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE) å¼€æºã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue æˆ– Pull Request è´¡çŒ®ä»£ç ã€‚è¯¦æƒ…è¯·å‚é˜… [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)ã€‚

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [NestJS å®˜æ–¹æ–‡æ¡£](https://docs.nestjs.com/)
- [Prisma å®˜æ–¹æ–‡æ¡£](https://www.prisma.io/docs/)
- [TypeScript å®˜æ–¹æ–‡æ¡£](https://www.typescriptlang.org/docs/)

## ğŸ¯ æœ€æ–°æ›´æ–°

### v1.0.0 (2024-06-22)
- âœ… æ”¯æŒç”¨æˆ·åæˆ–é‚®ç®±ç™»å½•
- âœ… å®Œå–„æƒé™ç®¡ç†ç³»ç»Ÿï¼ˆ25ä¸ªåŸºç¡€æƒé™ï¼‰
- âœ… ä¼˜åŒ–æ•°æ®åº“ç§å­è„šæœ¬
- âœ… å®Œå–„Swagger APIæ–‡æ¡£
- âœ… ä¿®å¤403æƒé™é—®é¢˜
- âœ… æ·»åŠ éƒ¨é—¨å’Œå²—ä½ç®¡ç†
- âœ… å®Œå–„é¡¹ç›®ç»“æ„å’Œä»£ç è§„èŒƒ
